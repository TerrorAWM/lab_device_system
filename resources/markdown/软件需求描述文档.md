# 《江南大学实验室设备管理系统》软件需求描述文档

## 1. 文档概述

### 1.1 文档目的

本文档用于明确“江南大学实验室设备管理系统”的业务目标、范围边界、功能与非功能需求、业务规则、数据定义、接口与约束条件，为后续用例规约、分析类图/设计类图、数据库ERD、原型与开发提供统一依据。

### 1.2 系统范围

系统覆盖实验设备台账维护、预约申请与审批、收费对接、借用撤销/退款、设备可用性查询、人员信息与师生关系维护、统计报表等。

### 1.3 相关角色（业务参与者）

* 实验室负责人：员工管理、设备采购与报废、审批等。
* 设备管理员：设备维护、资格核验、实验过程监管、审批等（5\~10人）。
* 设备借用人员：校内教师、校内学生、校外人员。
* 学校财务系统：校外人员缴费确认回传。
* 定时任务（系统）：周/月/年报表生成。

---

## 2. 愿景需求（业务需求）

### 2.1 背景与痛点

实验室设备种类多、数量大、借用人员多；现有手工/Excel方式已无法满足更新、查找、统计与流程管理需求。

### 2.2 业务目标

1. 建立统一台账与预约台账的电子化存储与维护，降低维护成本，提高准确性。
2. 提升设备利用率与预约透明度：借用人自助查询设备可用性、在线预约与进度跟踪。
3. 规范审批流程：满足教师/学生/校外人员不同审批链，确保合规。
4. 完成校外借用收费自动对接：缴费后自动回传确认，减少人工核对。
5. 支持管理决策：生成周报、月报、年报，掌握设备使用情况。

### 2.3 成功度量（可验收指标建议）

* 借用申请线上化比例 ≥ 95%
* 报表自动生成覆盖率：周/月/年报均可自动导出与打印
* 1年范围复杂查询/统计 ≤ 20秒；常规交互 ≤ 2秒（详见NFR）
* 支持同时在线用户 ≥ 1000&#x20;

---

## 3. 功能需求（FR）

### 3.1 用户与权限（注册/登录/个人信息）

* **FR-U01 用户注册**：借用人员可通过互联网注册账号并填写基本信息（教师/学生/校外人员分类）。
* **FR-U02 用户登录/退出**：所有用户需登录后进行预约、信息维护、审批等操作。
* **FR-U03 个人信息维护**：借用人员可维护个人信息（教师/学生/校外人员对应字段）。
* **FR-AC01 角色与权限管理**：实验室负责人可配置系统角色权限与账号状态（启用/停用/重置等）。
* **FR-AC02 员工管理**：实验室负责人维护设备管理员账号（新增/修改/停用/分配权限）。

### 3.2 台账管理（设备/教师/学生/校外/预约）

系统需支持5类台账的电子化维护：

* **FR-L01 设备台账维护**：新增/修改/删除/查询设备信息（编号、型号、购入时间、厂商、用途、可用状态、租用价格、检修时间等）。
* **FR-L02 教师台账维护**：新增/修改/查询教师信息。
* **FR-L03 学生台账维护**：新增/修改/查询学生信息（含导师、学院等）。
* **FR-L04 校外人员台账维护**：新增/修改/查询校外人员信息。
* **FR-L05 预约台账维护**：记录预约申请、审批链、借用时段、支付/退款状态等。

### 3.3 设备可用性与预约申请

* **FR-R01 设备可用性查询**：借用人员按设备类型/编号/用途/时间段查询可用设备（排除检修时间）。
* **FR-R02 提交设备预约申请**：借用人员选择设备与借用时段（2小时为单位）、填写申请说明并提交。
* **FR-R03 预约修改/撤销**：已批准预约可撤销（至少提前1天），对付费预约只退95%。
* **FR-R04 预约进度查询**：借用人员查看申请当前状态（待审/已审/驳回/待缴费/已缴费确认/已撤销等）。
* **FR-R05 预约冲突处理**：系统在提交或审批时校验设备时段冲突；冲突时校内优先。

### 3.4 审批流程（按人群差异）

* **FR-A01 教师预约审批（设备管理员）**：设备管理员核查时段可用性后批准/驳回并登记预约状态。
* **FR-A02 学生预约审批（指导教师→设备管理员）**：指导教师审批 → 设备管理员核验师生关系有效性 → 再核查设备时段 → 批准并登记。
* **FR-A03 校外预约审批（设备管理员→实验室负责人→财务缴费→设备管理员确认）**：
  设备管理员先审可用性 → 负责人审批 → 财务缴费盖章/确认 → 设备管理员确认并登记。
* **FR-A04 借用资格核验**：设备管理员对学生申请校验导师关系；对校外申请校验支付状态与身份信息完整性。

### 3.5 教师指导学生列表维护（含Excel批量）

* **FR-T01 指导学生关系维护**：教师用户维护其指导学生列表（新增/移除/更新）。
* **FR-T02 Excel批量导入指导学生**：教师可上传Excel批量提交指导学生信息，系统校验并入库。

### 3.6 收费对接与退款

* **FR-F01 生成缴费单/缴费指引**：校外人员预约通过负责人审批后生成应缴费用与订单标识。
* **FR-F02 财务系统缴费确认回传**：财务系统完成交费后，将确认结果自动回传到实验室系统并更新预约状态。
* **FR-F03 退款处理**：撤销付费预约时，系统按规则退还95%，并记录退款流水与状态。

### 3.7 设备维护与状态管理

* **FR-E01 检修时间管理**：设备管理员登记设备检修时段，检修时段不可预约。
* **FR-E02 设备采购入库/报废出库**：实验室负责人维护设备采购与报废信息（更新设备台账）。

### 3.8 统计报表与打印

* **FR-S01 生成周报表**：系统按周统计设备使用情况、借用次数、时长、收入等。
* **FR-S02 生成月报表**：同上，按月。
* **FR-S03 生成年报表**：同上，按年。
* **FR-S04 报表导出与打印**：支持任意打印机打印单据或报表。

### 3.9 访问控制（互联网/局域网）

* **FR-NET01 外网访问范围**：借用人员可通过Internet访问系统（注册、查询、提交/维护申请等）。
* **FR-NET02 内网限制范围**：实验室工作人员（负责人、设备管理员）仅允许在局域网访问（审批、设备维护等）。

---

## 4. 非功能性需求（NFR）

### 4.1 性能与容量

* **NFR-P01 并发**：系统支持同时在线用户数≥1000。
* **NFR-P02 响应时间（复杂查询）**：1年范围内复杂查询/统计响应≤20秒。
* **NFR-P03 响应时间（普通交互）**：其他基本功能交互响应≤2秒。
* **NFR-P04 数据规模**：设备≥20000台套，每年新增≥200；注册用户>5000；单日容纳>1000人。

### 4.2 可靠性与数据安全

* **NFR-S01 数据安全**：连续3年以上数据不丢失（应具备备份、容灾/恢复机制）。
* **NFR-S02 审计**：关键操作（审批、收费确认、台账变更、退款）需留痕（操作者、时间、内容、前后值）。

### 4.3 兼容性与部署

* **NFR-C01 客户端**：支持PC端Windows系统。
* **NFR-C02 服务端**：支持Linux系统部署。
* **NFR-C03 网络**：100M以上宽带网络条件可用。

### 4.4 可用性

* **NFR-U01 7\*24预约**：除检修外每周7天每天24小时可预约（业务规则支持）。

---

## 5. 业务规则（BR）

* **BR-01 免费/付费规则**：校内人员免费；校外人员付费；设备冲突时校内优先。
* **BR-02 借用时间粒度**：每次借用时间单位为2小时。
* **BR-03 预约提前期**：必须提前1\~7天预约。
* **BR-04 撤销规则**：已批准预约可撤销，至少提前1天；付费预约退款95%。
* **BR-05 审批链规则**：

  * 教师：设备管理员审批。
  * 学生：指导教师审批→设备管理员审批（含师生关系核验）。
  * 校外：设备管理员审批→负责人审批→财务缴费确认→设备管理员确认。
* **BR-06 可用性规则**：除检修时间外均可借用；审批/提交时必须检查设备时段可用性。

---

## 6. 数据定义（DD/数据字典）

### 6.1 设备（Equipment）

* equipment\_id（设备编号，唯一）
* model（型号）
* purchase\_date（购入时间）
* manufacturer（生产厂商）
* purpose（实验用途）
* rentable\_price（租用价格，校外用）
* status（在用/报废/停用等）
* maintenance\_windows（检修时间段集合或单独表）
* availability\_calendar（可用性时段/预约占用计算视图）

### 6.2 教师（Teacher）

* teacher\_id（教师编号，唯一）
* name, gender, title（职称）
* research\_area（专业方向）
* college（所在学院）

### 6.3 学生（Student）

* student\_id（学号，唯一）
* name, gender
* major（专业）
* advisor\_id（导师=teacher\_id）
* college（所在学院）

### 6.4 校外人员（ExternalUser）

* external\_id（编号，唯一）
* name, gender
* organization（所在单位名称）

### 6.5 预约/借用申请（Reservation）

* reservation\_id（唯一）
* applicant\_type（Teacher/Student/External）
* applicant\_id（对应人员ID）
* equipment\_id
* start\_time, end\_time（2小时粒度）
* submit\_time
* status（Draft/Submitted/TeacherApproved/AdminApproved/LeaderApproved/PayPending/PaidConfirmed/Rejected/Cancelled/Refunded等）
* approval\_records（审批记录集合：审批人、结果、意见、时间）
* payment\_order\_id（对接财务）
* amount（应付/实付）
* refund\_amount（如有）
* cancel\_time（如撤销）

### 6.6 指导关系（TeacherStudentRelation）

* teacher\_id
* student\_id
* valid\_from, valid\_to（可选）
* status（有效/失效）

---

## 7. 约束条件（Constraints）

* **CS-01 访问网络约束**：借用人员允许互联网访问；负责人/设备管理员仅局域网访问。
* **CS-02 借用时间约束**：2小时为最小借用单位；预约必须在1\~7天范围内。
* **CS-03 数据规模约束**：需支撑设备与用户规模增长。
* **CS-04 平台约束**：PC端Windows、服务端Linux、100M网络、任意打印机打印。

---

## 8. 接口需求（IR）

### 8.1 与学校财务系统接口（关键外部接口）

* **IR-FIN-01 缴费结果回传接口**：财务系统完成支付后，向本系统回传“订单标识、支付状态、支付时间、金额、支付流水号”等；本系统据此更新预约为“已缴费确认”。
* **IR-FIN-02 退款接口（可选）**：本系统发起退款时，将“订单标识、退款金额（95%规则）、原因、发起时间”等发送至财务系统；接收退款结果并更新状态。

### 8.2 文件导入接口（教师Excel导入）

* **IR-IMP-01 Excel导入指导学生名单**：支持上传Excel；字段至少包含学号、姓名、学院/专业（或可只用学号匹配）。

### 8.3 打印接口

* **IR-PRT-01 打印单据/报表**：支持浏览器打印或导出PDF再打印，兼容任意打印机。